<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calendar - University of South Carolina</title>
  <link rel="stylesheet" href="static/css/style.css">
  <style>
    .calendar-container {
      max-width: 1000px;
      margin: 30px auto 120px;
      background: #f9f9f9;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #d9d9d9;
      padding: 8px 10px;
      border-radius: 6px;
      margin-bottom: 10px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .filter-btn {
      background: #73000a;
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }

    .filter-options {
      display: none;
      margin-top: 8px;
      background: #fff;
      border: 1px solid #73000a;
      border-radius: 6px;
      padding: 10px;
    }

    .filter-options.active {
      display: block;
    }

    .filter-options ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .filter-options li {
      padding: 5px 0;
      color: #73000a;
      cursor: pointer;
    }

    .search-section {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      flex: 1;
    }

    .search-section input[type="text"] {
      padding: 6px;
      border-radius: 4px;
      border: 1px solid #ccc;
      width: 200px;
    }

    .search-section button {
      background: #73000a;
      color: #fff;
      border: none;
      padding: 7px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
    }

    .search-section button:hover {
      background: #500007;
    }

    .ai-prompt {
      width: 100%;
      max-width: 350px;
      min-height: 60px;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
      resize: vertical;
      box-sizing: border-box;
    }

    .month-nav {
      text-align: center;
      margin: 15px 0;
    }

    .month-nav button {
      background-color: #73000a;
      color: white;
      border: none;
      padding: 6px 10px;
      margin: 0 10px;
      border-radius: 4px;
      cursor: pointer;
    }

    .month-nav h2 {
      display: inline;
      color: #73000a;
      font-size: 18px;
      margin: 0 15px;
    }

    .calendar-grid {
      width: 100%;
      border-collapse: collapse;
      border: 2px solid #73000a;
      user-select: none;
    }

    .calendar-grid th,
    .calendar-grid td {
      border: 1px solid #73000a;
      text-align: center;
      padding: 18px;
      font-size: 14px;
      color: #333;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .calendar-grid th {
      background: #f1f1f1;
      color: #73000a;
      cursor: default;
    }

    .calendar-grid td.selected {
      background: #a94c56;
      color: #fff;
      font-weight: bold;
    }

    .calendar-grid td.range {
      background: #a94c56;
      color: white;
    }

    .summary-btn {
      display: block;
      background: #73000a;
      color: white;
      border: none;
      border-radius: 4px;
      margin: 20px auto 0;
      padding: 10px 15px;
      cursor: pointer;
      font-size: 15px;
      font-weight: bold;
    }

    .summary-btn:hover {
      background: #500007;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #4b4b4b;
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 10px 0;
      color: white;
    }

    .bottom-nav a {
      text-decoration: none;
      color: white;
      font-size: 14px;
      text-align: center;
    }

    .bottom-nav a:hover {
      color: #c7c7c7;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .nav-item img {
      width: 20px;
      height: 20px;
      margin-bottom: 5px;
      filter: brightness(0) invert(1);
    }

    @media (max-width: 800px) {
      .search-section {
        justify-content: flex-start;
      }
      .ai-prompt {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="calendar-container">
    <div class="top-bar">
      <button class="filter-btn" id="filterToggle">Filters ▾</button>

      <div class="search-section">
        <button id="clearFiltersBtn" type="button">Clear Filters</button>
        <input type="text" placeholder="Enter date (yyyymmdd)">
        <textarea id="aiPrompt" class="ai-prompt" placeholder="Ask the AI:"></textarea>
      </div>
    </div>

    <div class="filter-options" id="filterOptions">
      <ul>
        <li>Priority ▸</li>
        <li>Phase Status ▸</li>
        <li>Shop ▸</li>
        <li>Location ▸</li>
      </ul>
    </div>

    <div class="month-nav">
      <button>◀ Prev</button>
      <h2>January 2025</h2>
      <button>Next ▶</button>
    </div>

    <table class="calendar-grid" id="calendarTable">
      <thead>
        <tr>
          <th>Sunday</th>
          <th>Monday</th>
          <th>Tuesday</th>
          <th>Wednesday</th>
          <th>Thursday</th>
          <th>Friday</th>
          <th>Saturday</th>
        </tr>
      </thead>
      <tbody>
        <!-- Simple static rows for visual structure -->
        <tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr>
        <tr><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td></tr>
        <tr><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td><td>21</td></tr>
        <tr><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td></tr>
        <tr><td>29</td><td>30</td><td>31</td><td></td><td></td><td></td><td></td></tr>
      </tbody>
    </table>

    <button class="summary-btn" id="generateBtn">Generate Summary</button>
  </div>

  <div class="bottom-nav">
    <a href="dashboard.html" class="nav-item"><img src="static/icons/home.png" alt="Dashboard Icon">Dashboard</a>
    <a href="archives.html" class="nav-item"><img src="static/icons/archive.png" alt="Archives Icon">Archives</a>
    <a href="calendar.html" class="nav-item"><img src="static/icons/calendar.png" alt="Calendar Icon">Calendar</a>
    <a href="login.html" class="nav-item"><img src="static/icons/logout.png" alt="Logout Icon">Log Out</a>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const filterBtn = document.getElementById("filterToggle");
      const filterOptions = document.getElementById("filterOptions");
      const clearFiltersBtn = document.getElementById("clearFiltersBtn");
      const generateBtn = document.getElementById("generateBtn");
      const table = document.getElementById("calendarTable");

      filterBtn.addEventListener("click", () => filterOptions.classList.toggle("active"));
      clearFiltersBtn.addEventListener("click", () => alert("Filters cleared."));

      let isSelecting = false, startCell = null;

      table.addEventListener("mousedown", e => {
        if (e.target.tagName !== "TD") return;
        isSelecting = true;
        table.querySelectorAll("td").forEach(td => td.classList.remove("selected", "range"));
        startCell = e.target;
        startCell.classList.add("selected");
      });

      table.addEventListener("mouseover", e => {
        if (!isSelecting || e.target.tagName !== "TD") return;
        const all = [...table.querySelectorAll("td")];
        const startIndex = all.indexOf(startCell);
        const endIndex = all.indexOf(e.target);
        all.forEach((cell, i) => {
          cell.classList.toggle("range", i >= Math.min(startIndex, endIndex) && i <= Math.max(startIndex, endIndex));
        });
      });

      document.addEventListener("mouseup", () => (isSelecting = false));

      generateBtn.addEventListener("click", () => {
        const selected = [...table.querySelectorAll(".selected, .range")].map(td => td.textContent.trim());
        const prompt = document.getElementById("aiPrompt").value.trim();
        alert(`Generating report for days: ${selected.join(", ") || "none"}\\n\\nPrompt: ${prompt || "No AI input."}`);
      });
    });
  </script>
</body>
</html>
